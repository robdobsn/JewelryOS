/////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//
// DetectHardware for Scader PCBs
// Rob Dobson 2023
//
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////

#include "DetectHardware.h"
#include "esp_log.h"

// Module
static const char *MODULE_PREFIX = "DetectHardware";

// Initial HW revision
int DetectHardware::_hardwareRevision = -1;

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////
// Main detection function
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////

int DetectHardware::detectHardware()
{
    // Default to generic
    _hardwareRevision = HW_IS_GENERIC_BOARD;

    ESP_LOGI(MODULE_PREFIX, "detectHardware() returning %s (%d)", 
                getHWRevisionStr(_hardwareRevision), _hardwareRevision);
    return _hardwareRevision;
}
